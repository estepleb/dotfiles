# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                         Keybinds                            ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

source = ~/.config/hypr/config/defaults.conf

# https://wiki.hyprland.org/Configuring/Binds/

# ======= Window Management =======
bindd = $mainMod, Q, Closes (not kill) current window, killactive,
bindd = $mainMod CTRL SHIFT, Q, Force kill current window, forcekillactive,
bindd = $mainMod, V, Switches current window between floating and tiling mode, togglefloating,
bindd = $mainMod, D, Toggles current window maximize mode, fullscreenstate, 1 -1
bindd = $mainMod, F, Toggles current window fullscreen mode, fullscreenstate, 2 -1
bindd = $mainMod SHIFT, F, Toggles current window client fullscreen mode, fullscreenstate, -1 2
bindd = $mainMod, Y, Pin current window (shows on all workspaces), pin
# bindd = $mainMod, P, Pseudotile for current window, pseudo

# Window split ratio
bindde = Super, Semicolon, Descrease split ratio, splitratio, -0.1 
bindde = Super, Apostrophe, Increase split ratio, splitratio, +0.1 

# ======= Display Modes =======
bindd = $mainMod, P, Display modes (mirror/external/projector), exec, pkill hyprmode || alacritty --class hyprmode -e hyprmode


# ======= Speech to Text =======
bindd = SUPER SHIFT ALT, code:201, OSTT Speech to text, exec, pkill ostt || ~/.local/bin/ostt-float


# ======= Grouping Windows =======
bindd = $mainMod, G, Toggles  current window group mode (ungroup all related), togglegroup,
bindd = $mainMod, PERIOD, Switches to the next window in the group, changegroupactive, f
bindd = $mainMod, COMMA, Switches to the previous window in the group, changegroupactive, b

# Quickshell overview from end-4
bindd = $mainMod, Tab, Overview Toggle,exec, qs ipc -c overview call overview toggle

# ======= Open Application =======
bindd = $mainMod, RETURN, Opens default terminal emulator ($terminal), exec, $terminal
bindd = $mainMod, E, Opens default filemanager ($filemanager), exec, $filemanager
bindd = $mainMod, B, Opens default browser (Zen), exec, $browser
bindd = $mainMod, O, Opens Obsidian, exec, obsidian
bindd = $mainMod, L, Opens Localsend, exec, localsend
# bindd = $mainMod, T, Opens Ticktick, exec, ticktick
bindd = $mainMod, Slash, Open password manager (Bitwarden), exec, flatpak run com.bitwarden.desktop
bindd = CTRL SHIFT, Escape, Open system monitor, exec, $system_monitor

# ======= Restarting Programs =======
bindd = $mainMod SHIFT, R, Reload/restart/refresh programs, exec, $SCRIPTS/refresh

# ======= Scratchpad =======
bindd = $mainMod SHIFT, RETURN, Summon floating terminal special workspace, togglespecialworkspace, terminal
bindd = $mainMod, equal, Call special workspace Stash, togglespecialworkspace, stash
bindd = $mainMod, minus, Move active window to special workspace scratchpad, exec, pypr toggle_special stash
bindd = $mainMod SHIFT, M, Call special workspace Music, togglespecialworkspace, music
bindd = $mainMod SHIFT, T, Call special workspace Todo, togglespecialworkspace, todo


# ======= Menus =======
bindd = $mainMod, SPACE, Runs application launcher, exec, $launcher
# bindd = $mainMod ALT, SPACE, Opens Main Menu, exec, 
bindd = $mainMod, Backspace, Session menu, exec, $session
bindd = $mainMod SHIFT, Backspace, Lock and Suspend, exec, $lock_and_suspend
bindd = $mainMod, Escape, Control Center menu, exec, $control_center
bindd = $mainMod, I, Settings menu, exec, $settings
bindd = $mainMod SHIFT, C, Calendar menu, exec, $calendar
# bindd = $mainMod, K, Show Keybinds, exec, 
bindd = $mainMod, Print, Open Screenshot menu, exec, $screen_capture_menu
bindd = $mainMod SHIFT, V, Open Clipboard, exec, $clipboard
bindd = $mainMod SHIFT, W, Opens wallpaper seletion menu, exec, $wallpaper_menu
bindd = $mainMod CTRL SHIFT, W, Random wallpaper, exec, $wallpaper_random


# ======= Session Management =======
# bindd = $mainMod CTRL SHIFT, Escape, Logout and terminate the user session, exec, loginctl terminate-user ""


# ======= Toggle Modes =======
bindd = $mainMod CTRL SHIFT, G, Toggle Game mode, exec, $gamemode
bindd = $mainMod CTRL SHIFT, P, Cycle Power Profiles, exec, $cycle_power_profiles
bindd = $mainMod, XF86MonBrightnessUp, Toggle idle inhibitor, exec, $idle_inhibitor
# bindd = $mainMod CTRL ALT, V, Toggle current workspace floating window mode, workspaceopt, allfloat

bindd = $mainMod CTRL ALT, M, Toggle between dwindle and master modes,exec, $SCRIPTS/toggle_dwindle_master.sh


######### GESTURES ########

gesture = 3, horizontal, workspace

######### UTILITIES ########

# ======= Screenshot =======
bindd = , Print, Screenshot region >> clipboard & save, exec, $SCRIPTS/screenshot copysave area
bindd = CTRL, Print, Screenshot window >> clipboard & save, exec, $SCRIPTS/screenshot copysave active
bindd = ALT, Print, Screenshot screen >> clipboard & save, exec,$SCRIPTS/screenshot copysave output

bindd = $mainMod SHIFT, I, Hyprprop, exec, $SCRIPTS/show_hyprprop.sh

# ======= Volume Control =======
bindel = , XF86AudioRaiseVolume, exec, $volume_up
bindel = , XF86AudioLowerVolume, exec, $volume_down
bindl = , XF86AudioMute, exec, $volume_mute
bindl = , XF86AudioMicMute, exec, $mic_mute

# ======= Playback Control =======
bindd = , XF86AudioPlay, Toggles play/pause, exec, $media-control-play-pause
bindd = , XF86AudioStop, Toggles play/pause, exec, $media-control-stop
bindd = , XF86AudioNext, Next track, exec, $media-control-next
bindd = , XF86AudioPrev, Previous track, exec, $media-control-previous

# Alternative Playback Control F8-F10
bindd = , XF86TouchpadToggle, Toggles play/pause, exec, $media-control-play-pause
bindd = , XF86Cut, Next track, exec, $media-control-next
bindd = , XF86Favorites, Previous track, exec, $media-control-previous


# Alternative Playback Control []\
bindd = $mainMod, Backslash, Toggles play/pause, exec, $media-control-play-pause
bindd = $mainMod SHIFT, Backslash, Stop media, exec, $media-control-play-pause
bindd = $mainMod, BracketRight, Next track, exec, $media-control-next
bindd = $mainMod, BracketLeft, Previous track, exec, $media-control-previous


# ======= Microphone =======
bindld = Super+Alt,M, Toggle microphone, exec, wpctl set-mute @DEFAULT_SOURCE@ toggle

# ======= Screen Brightness =======
bindel = , XF86MonBrightnessUp, exec, brightnessctl s +5% 	#Increases brightness 5%
bindel = , XF86MonBrightnessDown, exec, brightnessctl s 5%- 	#Decreases brightness 5%



######### WINDOW MOVEMENT AND WORKSPACE CONTROL #########

# ======= Window Actions =======
## Move window towards a direction with mainMod + SHIFT + arrow keys
bindd = $mainMod SHIFT, left, Move active window to the left, movewindoworgroup, l
bindd = $mainMod SHIFT, right, Move active window to the right, movewindoworgroup, r
bindd = $mainMod SHIFT, up, Move active window upwards, movewindoworgroup, u
bindd = $mainMod SHIFT, down, Move active window downwards, movewindoworgroup, d

## Move window towards a direction with mainMod + SHIFT + HJKL
bindd = $mainMod SHIFT, h, Move active window to the left, movewindoworgroup, l
bindd = $mainMod SHIFT, l, Move active window to the right, movewindoworgroup, r
bindd = $mainMod SHIFT, k, Move active window upwards, movewindoworgroup, u
bindd = $mainMod SHIFT, j, Move active window downwards, movewindoworgroup, d

## Move focus with mainMod + arrow keys
bindd = $mainMod, left, Move focus to the left, movefocus, l
bindd = $mainMod, right,  Move focus to the right, movefocus, r
bindd = $mainMod, up, Move focus upwards, movefocus, u
bindd = $mainMod, down, Move focus downwards, movefocus, d

## Move focus with mainMod + HJKL
bindd = $mainMod, h, Move focus to the left, movefocus, l
bindd = $mainMod, l,  Move focus to the right, movefocus, r
bindd = $mainMod, k, Move focus upwards, movefocus, u
bindd = $mainMod, j, Move focus downwards, movefocus, d



# Quick resize window with arrow keys
# !!! added $mainMod here because CTRL + SHIFT is used for word selection in various text editors
bindde = $mainMod CTRL SHIFT, right,Quick resize to the right, resizeactive, 15 0
bindde = $mainMod CTRL SHIFT, left, Quick resize to the left, resizeactive, -15 0
bindde = $mainMod CTRL SHIFT, up, Quick resize upwards, resizeactive, 0 -15
bindde = $mainMod CTRL SHIFT, down, Quick resize downwards, resizeactive, 0 15

# Quick resize window with HJKL
bindde = $mainMod CTRL SHIFT, h, Quick resize to the left, resizeactive, -15 0
bindde = $mainMod CTRL SHIFT, l, Quick resize to the right, resizeactive, 15 0
bindde = $mainMod CTRL SHIFT, k, Quick resize upwards, resizeactive, 0 -15
bindde = $mainMod CTRL SHIFT, j, Quick resize downwards, resizeactive, 0 15

# ======= Window Actions with Mouse =======
# Resize window with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:273, resizewindow	#Resize the window towards a direction
bindm = $mainMod, mouse:272, movewindow		#Drag window


# ====== Window Actions touchpad friendly ======
# !!! don't click when using these, just drag with one finger
bindm = SUPER, Control_L, movewindow
bindm = CTRL, SUPER_L, movewindow
bindm = SUPER, ALT_L, resizewindow
bindm = ALT, SUPER_L, resizewindow


## Resizing Windows End ##

# ======= Moving Windows Across Workspaces 1-10 =======

## CTRL is for going with the window to the new workspace. 
## SHIFT is for sending window away while remaining focused on current workspace

## Move together with active window to another workspace with $mainMod + CTRL + [0-9]
bindd = $mainMod CTRL, 1, Move window and switch to workspace 1, movetoworkspace, 1
bindd = $mainMod CTRL, 2, Move window and switch to workspace 2, movetoworkspace, 2
bindd = $mainMod CTRL, 3, Move window and switch to workspace 3, movetoworkspace, 3
bindd = $mainMod CTRL, 4, Move window and switch to workspace 4, movetoworkspace, 4
bindd = $mainMod CTRL, 5, Move window and switch to workspace 5, movetoworkspace, 5
bindd = $mainMod CTRL, 6, Move window and switch to workspace 6, movetoworkspace, 6
bindd = $mainMod CTRL, 7, Move window and switch to workspace 7, movetoworkspace, 7
bindd = $mainMod CTRL, 8, Move window and switch to workspace 8, movetoworkspace, 8
bindd = $mainMod CTRL, 9, Move window and switch to workspace 9, movetoworkspace, 9
bindd = $mainMod CTRL, 0, Move window and switch to workspace 10, movetoworkspace, 10


## Send active window to another workspace $mainMod + SHIFT + [0-9]
bindd = $mainMod SHIFT, 1, Move window silently to workspace 1, movetoworkspacesilent, 1
bindd = $mainMod SHIFT, 2, Move window silently to workspace 2, movetoworkspacesilent, 2
bindd = $mainMod SHIFT, 3, Move window silently to workspace 3, movetoworkspacesilent, 3
bindd = $mainMod SHIFT, 4, Move window silently to workspace 4, movetoworkspacesilent, 4
bindd = $mainMod SHIFT, 5, Move window silently to workspace 5, movetoworkspacesilent, 5
bindd = $mainMod SHIFT, 6, Move window silently to workspace 6, movetoworkspacesilent, 6
bindd = $mainMod SHIFT, 7, Move window silently to workspace 7, movetoworkspacesilent, 7
bindd = $mainMod SHIFT, 8, Move window silently to workspace 8, movetoworkspacesilent, 8
bindd = $mainMod SHIFT, 9, Move window silently to workspace 9, movetoworkspacesilent, 9
bindd = $mainMod SHIFT, 0, Move window silently to workspace 10, movetoworkspacesilent, 10


# ====== ADJACENT WORKSPACE ACTIONS ======

# ====== MOUSE Scroll to prior/next workspace ======

bindd = $mainMod, mouse_down, Scroll through workspaces incrementally, workspace, r-1
bindd = $mainMod, mouse_up, Scroll through workspaces decrementally, workspace, r+1

bindd = $mainMod CTRL, mouse_down, Scroll with window one workspace up, movetoworkspace, r-1
bindd = $mainMod CTRL, mouse_up, Scroll with window one workspace down, movetoworkspace, r+1

bindd = $mainMod SHIFT, mouse_down, Scroll window silently one workspace up, movetoworkspacesilent, r-1
bindd = $mainMod SHIFT, mouse_down, Scroll window silently one workspace down, movetoworkspacesilent, r+1


# ====== MOUSE Scroll to prior/next EXISTING workspace (HOLD ALT)======

bindd = $mainMod ALT, mouse_down, Scroll to next existing workspace, workspace, e-1
bindd = $mainMod ALT, mouse_up, Scroll to prior existing workspace, workspace, e+1

bindd = $mainMod ALT CTRL, mouse_down, Scroll with window one workspace up, movetoworkspace, e-1
bindd = $mainMod ALT CTRL, mouse_up, Scroll with window one workspace down, movetoworkspace, e+1

bindd = $mainMod ALT SHIFT, mouse_up, Scroll window silently one workspace up, movetoworkspacesilent, e-1
bindd = $mainMod ALT SHIFT, mouse_down, Scroll window silently one workspace down, movetoworkspacesilent, e+11


# ====== Scroll to prior/next workspace with PageDown and PageUp ======

bindd = $mainMod, Prior, Scroll through workspaces incrementally, workspace, r-1
bindd = $mainMod, Next, Scroll through workspaces decrementally, workspace, r+1

bindd = $mainMod CTRL, Prior, Scroll with window one workspace up, movetoworkspace, r-1
bindd = $mainMod CTRL, Next, Scroll with window one workspace down, movetoworkspace, r+1

bindd = $mainMod SHIFT, Prior, Scroll window silently one workspace up, movetoworkspacesilent, r-1
bindd = $mainMod SHIFT, Next, Scroll window silently one workspace down, movetoworkspacesilent, r+1


# ====== Scroll to prior/next EXISTING workspace (HOLD ALT)======

bindd = $mainMod ALT, Prior, Scroll to next existing workspace, workspace, e-1
bindd = $mainMod ALT, Next, Scroll to prior existing workspace, workspace, e+1

bindd = $mainMod ALT CTRL, Prior, Scroll with window one workspace up, movetoworkspace, e-1
bindd = $mainMod ALT CTRL, Next, Scroll with window one workspace down, movetoworkspace, e+1

bindd = $mainMod ALT SHIFT, Prior, Scroll window silently one workspace up, movetoworkspacesilent, e-1
bindd = $mainMod ALT SHIFT, Next, Scroll window silently one workspace down, movetoworkspacesilent, e+1

# ====== END: ADJACENT WORKSPACE ACTIONS ======



# Window actions End #

# ======= Switching Workspaces =======
# Switch workspaces with mainMod + [0-9]
bindd = $mainMod, 1, Switch to workspace 1, workspace, 1
bindd = $mainMod, 2, Switch to workspace 2, workspace, 2
bindd = $mainMod, 3, Switch to workspace 3, workspace, 3
bindd = $mainMod, 4, Switch to workspace 4, workspace, 4
bindd = $mainMod, 5, Switch to workspace 5, workspace, 5
bindd = $mainMod, 6, Switch to workspace 6, workspace, 6
bindd = $mainMod, 7, Switch to workspace 7, workspace, 7
bindd = $mainMod, 8, Switch to workspace 8, workspace, 8
bindd = $mainMod, 9, Switch to workspace 9, workspace, 9
bindd = $mainMod, 0, Switch to workspace 10, workspace, 10
bindd = $mainMod, GRAVE, Switch to previous workspace, workspace, previous_per_monitor

# ======= Additional Settings =======

# https://wiki.hyprland.org/Configuring/Binds
binds {
    allow_workspace_cycles = true
    workspace_back_and_forth = false
    workspace_center_on = true
	movefocus_cycles_fullscreen = true
	window_direction_monitor_fallback = true
	hide_special_on_workspace_change = true
}

