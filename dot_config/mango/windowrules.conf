# MangoWC Window Rules Configuration
# Migrated from Hyprland - CachyOS Configuration
# https://github.com/DreamMaoMao/mangowc/wiki/
#
# Format: windowrule=property:value,property:value,appid:pattern
# or:     windowrule=property:value,property:value,title:pattern
#
# Available properties:
#   tags:N, isfloating:0|1, isfullscreen:0|1, isnoborder:0|1
#   isglobal:0|1, isoverlay:0|1, width:N, height:N, monitor:name
#   scroller_proportion:0.x, animation_type_open/close:zoom|slide|fade|none

# ============================================================================
# Floating Windows
# ============================================================================
# Pavucontrol
windowrule=isfloating:1,appid:org.pulseaudio.pavucontrol

# Picture-in-Picture (browser)
windowrule=isfloating:1,width:960,height:540,title:Picture.in.picture
windowrule=isfloating:1,width:960,height:540,title:Picture-in-Picture

# File dialogs
windowrule=isfloating:1,title:Save File
windowrule=isfloating:1,title:Open File
windowrule=isfloating:1,title:Export

# Desktop portals
windowrule=isfloating:1,appid:xdg-desktop-portal-gtk
windowrule=isfloating:1,appid:xdg-desktop-portal-kde
windowrule=isfloating:1,appid:xdg-desktop-portal-hyprland

# Polkit agents
windowrule=isfloating:1,appid:polkit-gnome-authentication-agent-1
windowrule=isfloating:1,appid:hyprpolkitagent
windowrule=isfloating:1,appid:org.kde.polkit-kde-authentication-agent-1

# CachyOS Hello
windowrule=isfloating:1,appid:CachyOSHello

# Zenity dialogs
windowrule=isfloating:1,appid:zenity


windowrule=isfloating:1,appid:app.zen_browser.zen,title:^Extension.*Bitwarden Password Manager.*$

# Steam updater
windowrule=isfloating:1,title:Steam - Self Updater


# Wev float
windowrule=isfloating:1,appid:wev


# Steam and Gamescope
windowrule=isfloating:1,appid:steam,title:^(?!.*Steam).*$
windowrule=isfullscreen:1,isoverlay:1,force_tearing:1,appid:gamescope



# Flip Flop Foot terminal
windowrule=unfocused_opacity:0.9,focused_opacity:0.9,appid:^.*footclient.*$
windowrule=unfocused_opacity:0.9,focused_opacity:0.9,appid:^.*foot.*$
windowrule=unfocused_opacity:0.9,focused_opacity:0.9,appid:foot


# Gnome Loupe (image viewer)
windowrule=isfloating:1,appid:org.gnome.Loupe

# Gnome Nautilus Previewer (image viewer)
windowrule=isfloating:1,appid:org.gnome.NautilusPreviewer

# Gnome Calculator
windowrule=isfloating:1,appid:org.gnome.Calculator
windowrule=offsetx:45,offsety:-65,appid:org.gnome.Calculator


# Mission Center
windowrule=isfloating:1,width:960,height:702,appid:io.missioncenter.MissionCenter
# Note: Hyprland used 50% 65% - converted to approximate pixels for 1920x1080

# Bitwarden
windowrule=isfloating:1,width:768,height:702,appid:Bitwarden
# Note: Hyprland used 40% 65% - converted to approximate pixels

# LocalSend
windowrule=isfloating:1,width:480,height:594,appid:localsend
# Note: Hyprland used 25% 55% - converted to approximate pixels

# Shortwave
windowrule=isfloating:1,width:750,height:550,appid:de.haeckerfelix.Shortwave

# Media players
windowrule=isfloating:1,title:imv
windowrule=isfloating:1,title:mpv
windowrule=isfloating:1,title:danmufloat
windowrule=isfloating:1,title:termfloat
windowrule=isfloating:1,title:ncmpcpp

windowrule=unfocused_opacity:1.0,focused_opacity:1.0,appid:^mpv$
windowrule=unfocused_opacity:1.0,focused_opacity:1.0,appid:^foot.*$
windowrule=unfocused_opacity:1.0,focused_opacity:1.0,appid:^obsidian$
windowrule=unfocused_opacity:1.0,focused_opacity:1.0,appid:^Google-chrome$
windowrule=unfocused_opacity:1.0,focused_opacity:1.0,appid:^xdg-desktop-portal.*$

# OSTT Speech to Text
windowrule=isfloating:1,isglobal:1,no_force_center:1,appid:ostt
windowrule=offsetx:91,offsety:98,appid:ostt
windowrule=isfloating:1,width:275,height:125,appid:ostt


windowrule=isfloating:1,isglobal:1,no_force_center:1,title:ostt
windowrule=offsetx:90,offsety:90%,title:ostt
windowrule=isfloating:1,width:275,height:125,title:ostt

# ============================================================================
# Animation Rules
# ============================================================================
# windowrule=animation_type_open:slide,appid:kitty
# windowrule=animation_type_open:slide,appid:Alacritty
# windowrule=animation_type_open:slide,appid:foot

# Float DMS windows
windowrule=isfloating:1,unfocused_opacity:1.0,appid:^org\.quickshell$

# ============================================================================
# Layer Rules
# ============================================================================

layerrule=noblur:1,noanim:1,layer_name:selection
layerrule=noblur:1,noanim:1,layer_name:wayfreeze
layerrule=noblur:1,layer_name:dms:.*
layerrule=noanim:1,layer_name:dms:fade-to-lock
layerrule=noanim:1,layer_name:dms:tooltip
layerrule=noblur:1,noanim:1,layer_name:noctalia.*
layerrule=animation_type_open:slide,layer_name:dms:dash
layerrule=animation_type_close:slide,layer_name:dms:popout
